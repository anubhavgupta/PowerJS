<!DOCTYPE html>
<html>
<head>
    <title>Test PowerJS</title>
    <script type="text/javascript" src="lib/moduleClasses/Class.js"></script>
    <script type="text/javascript" src="lib/nameSpaceCreator.js"></script>
    <script type="text/javascript" src="lib/JSModule.js"></script>
    <script type="text/javascript" src="lib/PowerJS.js"></script>
</head>
<body>

</body>
<script type="text/javascript">

    //creates a sample module

    var MS = module("ManagementSystem");
    var EMS = module("EmployeeManagementSystem",MS);

    MS.$Class("ManagementDetails")
            .$constructor(function(typeOfManagement){
                this.typeOf = typeOfManagement;
            })
            .$prototype({
                typeOfManagement:function(){
                    return this.typeOf;
                }
            });


    EMS.$Class("EMSDetails")
            .$extends(MS.ManagementDetails)
            .$constructor(function(type){
                this.type = type;
            })
            .$prototype({
                typeOfManagement:function(){
                    alert(this.type+" has a parent of type "+this.$super());
                }
            })
    ;

    EMS.$Class("Employee")
            .$constructor(function(){
                this.empName;
                this.age;
                this.bloodGrp;
            })
            .$prototype({
                createEmployee:function(name,age,bloodGrp){
                    this.empName = name;
                    this.age = age;
                    this.bloodGrp = bloodGrp;
                },
                isAEmployee:function(){
                    return this instanceof EMS.Manager;
                },
                showDetails:function(){
                    alert(this.empName+","+this.age+","+this.bloodGrp);
                }
            });

    EMS.$Class("Manager")
            .$extends(EMS.Employee)
            .$constructor(function(){
                this.typeOfWork;
            })
            .$prototype({
                addManager:function(name,age,bloodGrp,typeOfWork){
                    this.createEmployee(name,age,bloodGrp);
                    this.typeOfWork = typeOfWork;
                },
                showDetails:function(){
                    this.$super();
                    alert(this.typeOfWork);
                }
            });
    EMS.$Class("SuperManager")
            .$extends(EMS.Manager)
            .$constructor(function(){
                this.salary;
            })
            .$prototype({
                addSuperManager:function(name,age,bloodGrp,typeOfWork,salary){
                    this.addManager(name,age,bloodGrp,typeOfWork)
                    this.salary = salary;
                },
                showDetails:function(){
                    this.$super();
                    alert(this.salary);
                }
            });


    var x = new EMS.SuperManager();
    x.addSuperManager("Anubhav",24,"B+","manageral kind of work",100);
    x.showDetails();
    alert(x.isAEmployee());



    console.log("****************debug data*********************");
    console.log(MS);
    console.log(EMS);
    console.log("****************class Oject*********************");


</script>
</html>